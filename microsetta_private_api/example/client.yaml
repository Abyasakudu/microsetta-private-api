# Note that in reality essentially all of these functions would require oath security, but it makes them hard to test
# through the swagger web ui (as you have to send the authorization header, I don't yet know how to do from there...?)
# so only /account get has oath implemented.
openapi: 3.0.0
info:
  description: Minimal Client Example
  version: "0.3.0-oas3"
  title: Minimal Client Example (OAS 3.0)
servers:
  - url: 'http://localhost:8080/'
paths:
  '/':
    get:
      operationId: microsetta_private_api.example.client_impl.rootpath
      responses:
        '302':
          description: Redirect to home page
  '/home':
    get:
      operationId: microsetta_private_api.example.client_impl.home
      responses:
        '200':
          description: Home Page
          content:
            text/html:
              schema:
                type: string
  '/authrocket_callback':
    get:
      operationId: microsetta_private_api.example.client_impl.authrocket_callback
      parameters:
        - in: query
          name: token
          schema:
            type: string
      responses:
        '302':
          description: Returning home
  '/logout':
    get:
      operationId: microsetta_private_api.example.client_impl.logout
      responses:
        '302':
          description: Returning home

  '/workflow':
    get:
      operationId: microsetta_private_api.example.client_impl.workflow
      responses:
        '302':
          description: Redirecting to necessary action


  '/workflow_create_account':
    get:
      operationId: microsetta_private_api.example.client_impl.get_workflow_create_account
      responses:
        '200':
          description: Form to create an account
          content:
            text/html:
              schema:
                type: string

    post:
      operationId: microsetta_private_api.example.client_impl.post_workflow_create_account
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              additionalProperties: true
      responses:
        '302':
          description: Redirecting to necessary action

  '/workflow_create_human_source_wrapper':
    get:
      operationId: microsetta_private_api.example.client_impl.get_workflow_create_human_source_wrapper
      responses:
        '200':
          description: Form to create a human source
          content:
            text/html:
              schema:
                type: string

  '/workflow_create_human_source':
    get:
      operationId: microsetta_private_api.example.client_impl.get_workflow_create_human_source
      responses:
        '200':
          description: Form to create a human source
          content:
            text/html:
              schema:
                type: string

    post:
      operationId: microsetta_private_api.example.client_impl.post_workflow_create_human_source
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              additionalProperties: true
      responses:
        '302':
          description: Redirecting to necessary action

  '/workflow_take_primary_survey':
    get:
      operationId: microsetta_private_api.example.client_impl.get_workflow_fill_primary_survey
      responses:
        '200':
          description: Primary Survey
          content:
            text/html:
              schema:
                type: string

    post:
      operationId: microsetta_private_api.example.client_impl.post_workflow_fill_primary_survey
      responses:
        '302':
          description: Redirecting to necessary action

  '/workflow_claim_kit_samples':
    get:
      operationId: microsetta_private_api.example.client_impl.get_workflow_claim_kit_samples
      responses:
        '200':
          description: Form to claim unassigned samples from a kit name to a human participant
          content:
            text/html:
              schema:
                type: string

    post:
      operationId: microsetta_private_api.example.client_impl.post_workflow_claim_kit_samples
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              additionalProperties: true
      responses:
        '302':
          description: Redirecting to necessary action
